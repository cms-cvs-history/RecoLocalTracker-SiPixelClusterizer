process ProcessPixelClusterizer = {

   source = PoolSource { 
     untracked vstring fileNames    = {'file:../../../SimTracker/SiPixelDigitizer/test/pixdigi.root'}
     untracked int32  maxEvents     = 10
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
   }

  # Initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # Message Logger
   service = MessageLogger {
     untracked vstring destinations   = { "debugmessages.txt" }
     untracked PSet debugmessages.txt = { untracked string threshold = "DEBUG"}
     untracked vstring debugModules = { "pixClust"}

   } 
############################################################################
#  Run the clusterizer. Parameter values from default cfi file.
#
   include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"
############################################################################

    module out = PoolOutputModule {
        untracked string fileName = 'pixClusters.root'
    }
    path p = {
	      pixClust,
              out
             }
}
