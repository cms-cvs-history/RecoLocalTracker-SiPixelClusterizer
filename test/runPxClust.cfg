process ProcessPixelClusterizer = {

# works with 2-0-0, 2/08 d.k.

   source = PoolSource { 
     # untracked vstring fileNames    = {'file:digis.root'}
     untracked vstring fileNames = {'file:/scratch/dkotlins/Muon_FullValidation_180pre5.root'}

     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
   }

  untracked PSet maxEvents = {untracked int32 input = 10}

  # Initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # Message Logger
   service = MessageLogger {
     untracked vstring destinations   = { "debugmessages.txt" }
     untracked PSet debugmessages.txt = { untracked string threshold = "DEBUG"}
     untracked vstring debugModules = { "siPixelClusters"}
   } 



# to avoid the DB problem"
 include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"

   # Gain Calibration DB ESSource
   # include "CondTools/SiPixel/data/SiPixelGainCalibrationESSource.cfi"
   include "CalibTracker/SiPixelESProducers/data/SiPixelFakeGainESSource.cfi"

############################################################################
#  Run the clusterizer. Parameter values from default cfi file.
#
   include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"
############################################################################

    module out = PoolOutputModule {
        untracked string fileName = 'pixClusters.root'
    }
    path p = { siPixelClusters}


   endpath outpath = { out }

}
